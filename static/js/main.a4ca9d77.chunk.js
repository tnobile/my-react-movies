(this["webpackJsonpmy-react-movies"]=this["webpackJsonpmy-react-movies"]||[]).push([[0],{10:function(e,t,n){e.exports={search:"Heading_search__1n_I6"}},16:function(e,t,n){},17:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(9),a=n.n(s),i=(n(16),n(17),n(11)),o=n(2),j=n.n(o),h=n(5),d=n(3),l="http://api.tvmaze.com/search/",u=function(){var e=Object(h.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("keyword is null"),e.abrupt("return");case 3:return e.next=5,fetch("".concat(l,"shows?q=").concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:return c=e.sent,e.abrupt("return",c.filter((function(e){return e.show.image})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=(n(8),n(0)),x=function(e){var t=e.movie;return Object(b.jsxs)(b.Fragment,{children:[t&&t.show&&Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:t.show.image&&t.show.image.medium,alt:t.show.name})}),Object(b.jsx)("td",{children:t.show.name}),Object(b.jsx)("td",{children:t.show.language}),Object(b.jsx)("td",{children:t.show.type}),Object(b.jsx)("td",{children:t.show.status}),Object(b.jsx)("td",{children:t.show.genres}),Object(b.jsx)("td",{children:t.show.externals.imdb}),Object(b.jsx)("td",{children:t.show.externals.thetvdb}),Object(b.jsx)("td",{children:t.show.externals.tvrage}),Object(b.jsx)("td",{children:t.show.id}),Object(b.jsx)("td",{children:t.show.network&&t.show.network.country.name}),Object(b.jsx)("td",{children:t.show.network&&t.show.network.country.code}),Object(b.jsx)("td",{children:t.show.network&&t.show.network.country.countryZone}),Object(b.jsx)("td",{children:t.show.rating.average}),Object(b.jsx)("td",{children:t.show.schedule.days}),Object(b.jsx)("td",{children:t.show.schedule.time}),Object(b.jsx)("td",{children:t.score}),Object(b.jsx)("td",{children:t.show.url}),Object(b.jsx)("td",{children:t.show.officialSite})]},t.show.id),!t&&"nothing"]})},O=function(e){var t=e.favouriteComponent;return Object(b.jsxs)(b.Fragment,{children:[e.movies.map((function(n,c){return Object(b.jsxs)("div",{className:"image-container d-flex justify-content-start m-2",children:[Object(b.jsx)("img",{src:n.show.image&&n.show.image.medium,alt:"movie"}),Object(b.jsx)("div",{className:"overlay d-flex align-items-center justify-content-center",children:Object(b.jsx)("button",{onClick:function(){return e.handleFavouritesClick(n)},children:Object(b.jsx)(t,{})})})]},n.show.id)})),Object(b.jsx)("hr",{}),Object(b.jsx)(x,{movie:e.selected})]})},m=n(10),f=n.n(m),w=function(e){var t=e.keyWord,n=e.handleChange;return Object(b.jsx)("div",{className:"col col-12",children:Object(b.jsx)("input",{className:["search-control",f.a.search].join(" "),type:"text",value:t,onChange:n,placeholder:"search movies"})})},v=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{style:{background:"transparent"},children:[Object(b.jsx)("span",{className:"mr-2",style:{fontSize:"16px"},children:"Add to Favourites"}),Object(b.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-heart-fill",fill:"red",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})})]})})};var g=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),a=Object(d.a)(s,2),o=a[0],l=a[1],x=Object(c.useState)(),m=Object(d.a)(x,2),f=m[0],g=m[1],p=Object(c.useState)("Japan"),y=Object(d.a)(p,2),k=y[0],C=y[1],F=Object(c.useState)("Japan"),N=Object(d.a)(F,2),S=N[0],J=N[1];Object(c.useEffect)((function(){Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u(S);case 4:t=e.sent,console.log("".concat(S," got: "),t),l(t);case 7:case"end":return e.stop()}}),e)})))()}),[S]);var T=Object(c.useRef)(function(e,t){var n,c=this;return function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){e.apply(c,s)}),t)}}((function(e){return J(e)}),1e3),[k]).current;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"container-fluid movie-app",children:[Object(b.jsx)(w,{keyWord:k,handleChange:function(e){C(e.target.value),T(e.target.value)}}),Object(b.jsx)("div",{className:"row",children:o&&o.length>0&&Object(b.jsx)(O,{movies:o,selected:f,handleFavouritesClick:function(e){g(e);var t=[].concat(Object(i.a)(n),[e]);r(t)},favouriteComponent:v})})]})})};var p=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(g,{})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(p,{})}),document.getElementById("root")),y()}},[[20,1,2]]]);
//# sourceMappingURL=main.a4ca9d77.chunk.js.map